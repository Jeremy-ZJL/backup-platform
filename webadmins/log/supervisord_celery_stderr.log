/usr/local/python3/lib/python3.6/site-packages/celery/platforms.py:812: RuntimeWarning: You are running the worker with superuser privileges, which is
absolutely not recommended!

Please specify a different user using the -u option.

User information: uid=0 euid=0 gid=0 egid=0

  uid=uid, euid=euid, gid=gid, egid=egid,

/usr/local/python3/lib/python3.6/site-packages/celery/apps/worker.py:161: CDeprecationWarning: 
Starting from version 3.2 Celery will refuse to accept pickle by default.

The pickle serializer is a security concern as it may give attackers
the ability to execute any command.  It's important to secure
your broker from unauthorized access when using pickle, so we think
that enabling pickle should require a deliberate action and not be
the default choice.

If you depend on pickle then you should set a setting to disable this
warning and to be sure that everything will continue working
when you upgrade to Celery 3.2::

    CELERY_ACCEPT_CONTENT = ['pickle', 'json', 'msgpack', 'yaml']

You must only enable the serializers that you will actually use.


  warnings.warn(CDeprecationWarning(W_PICKLE_DEPRECATED))

[2020-12-25 13:59:58,409: WARNING/MainProcess] /usr/local/python3/lib/python3.6/site-packages/celery/apps/worker.py:161: CDeprecationWarning: 
Starting from version 3.2 Celery will refuse to accept pickle by default.

The pickle serializer is a security concern as it may give attackers
the ability to execute any command.  It's important to secure
your broker from unauthorized access when using pickle, so we think
that enabling pickle should require a deliberate action and not be
the default choice.

If you depend on pickle then you should set a setting to disable this
warning and to be sure that everything will continue working
when you upgrade to Celery 3.2::

    CELERY_ACCEPT_CONTENT = ['pickle', 'json', 'msgpack', 'yaml']

You must only enable the serializers that you will actually use.


  warnings.warn(CDeprecationWarning(W_PICKLE_DEPRECATED))

[2020-12-25 13:59:58,556: INFO/MainProcess] Connected to redis://127.0.0.1:16379//
[2020-12-25 13:59:58,563: INFO/MainProcess] mingle: searching for neighbors
[2020-12-25 13:59:59,566: INFO/MainProcess] mingle: all alone
/usr/local/python3/lib/python3.6/site-packages/celery/fixups/django.py:265: UserWarning: Using settings.DEBUG leads to a memory leak, never use this setting in production environments!
  warnings.warn('Using settings.DEBUG leads to a memory leak, never '

[2020-12-25 13:59:59,572: WARNING/MainProcess] /usr/local/python3/lib/python3.6/site-packages/celery/fixups/django.py:265: UserWarning: Using settings.DEBUG leads to a memory leak, never use this setting in production environments!
  warnings.warn('Using settings.DEBUG leads to a memory leak, never '

[2020-12-25 13:59:59,572: WARNING/MainProcess] celery@4 ready.
[2020-12-25 14:04:33,895: WARNING/MainProcess] consumer: Connection to broker lost. Trying to re-establish the connection...
Traceback (most recent call last):
  File "/usr/local/python3/lib/python3.6/site-packages/redis/connection.py", line 177, in _read_from_socket
    raise socket.error(SERVER_CLOSED_CONNECTION_ERROR)
OSError: Connection closed by server.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/python3/lib/python3.6/site-packages/redis/connection.py", line 624, in read_response
    response = self._parser.read_response()
  File "/usr/local/python3/lib/python3.6/site-packages/redis/connection.py", line 284, in read_response
    response = self._buffer.readline()
  File "/usr/local/python3/lib/python3.6/site-packages/redis/connection.py", line 216, in readline
    self._read_from_socket()
  File "/usr/local/python3/lib/python3.6/site-packages/redis/connection.py", line 191, in _read_from_socket
    (e.args,))
redis.exceptions.ConnectionError: Error while reading from socket: ('Connection closed by server.',)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/python3/lib/python3.6/site-packages/kombu/transport/redis.py", line 655, in _brpop_read
    **options)
  File "/usr/local/python3/lib/python3.6/site-packages/redis/client.py", line 680, in parse_response
    response = connection.read_response()
  File "/usr/local/python3/lib/python3.6/site-packages/redis/connection.py", line 626, in read_response
    self.disconnect()
  File "/usr/local/python3/lib/python3.6/site-packages/kombu/transport/redis.py", line 866, in disconnect
    channel._on_connection_disconnect(self)
  File "/usr/local/python3/lib/python3.6/site-packages/kombu/transport/redis.py", line 496, in _on_connection_disconnect
    self._disconnect_pools()
  File "/usr/local/python3/lib/python3.6/site-packages/kombu/transport/redis.py", line 484, in _disconnect_pools
    self._async_pool.disconnect()
  File "/usr/local/python3/lib/python3.6/site-packages/redis/connection.py", line 998, in disconnect
    connection.disconnect()
  File "/usr/local/python3/lib/python3.6/site-packages/kombu/transport/redis.py", line 866, in disconnect
    channel._on_connection_disconnect(self)
  File "/usr/local/python3/lib/python3.6/site-packages/kombu/transport/redis.py", line 498, in _on_connection_disconnect
    raise get_redis_ConnectionError()
redis.exceptions.ConnectionError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/python3/lib/python3.6/site-packages/celery/worker/consumer.py", line 280, in start
    blueprint.start(self)
  File "/usr/local/python3/lib/python3.6/site-packages/celery/bootsteps.py", line 123, in start
    step.start(parent)
  File "/usr/local/python3/lib/python3.6/site-packages/celery/worker/consumer.py", line 884, in start
    c.loop(*c.loop_args())
  File "/usr/local/python3/lib/python3.6/site-packages/celery/worker/loops.py", line 76, in asynloop
    next(loop)
  File "/usr/local/python3/lib/python3.6/site-packages/kombu/async/hub.py", line 340, in create_loop
    cb(*cbargs)
  File "/usr/local/python3/lib/python3.6/site-packages/kombu/transport/redis.py", line 1012, in on_readable
    item = self.cycle.on_readable(fileno)
  File "/usr/local/python3/lib/python3.6/site-packages/kombu/transport/redis.py", line 331, in on_readable
    return chan.handlers[type]()
  File "/usr/local/python3/lib/python3.6/site-packages/kombu/transport/redis.py", line 659, in _brpop_read
    self.client.connection.disconnect()
  File "/usr/local/python3/lib/python3.6/site-packages/kombu/transport/redis.py", line 866, in disconnect
    channel._on_connection_disconnect(self)
  File "/usr/local/python3/lib/python3.6/site-packages/kombu/transport/redis.py", line 496, in _on_connection_disconnect
    self._disconnect_pools()
  File "/usr/local/python3/lib/python3.6/site-packages/kombu/transport/redis.py", line 484, in _disconnect_pools
    self._async_pool.disconnect()
  File "/usr/local/python3/lib/python3.6/site-packages/redis/connection.py", line 998, in disconnect
    connection.disconnect()
  File "/usr/local/python3/lib/python3.6/site-packages/kombu/transport/redis.py", line 866, in disconnect
    channel._on_connection_disconnect(self)
  File "/usr/local/python3/lib/python3.6/site-packages/kombu/transport/redis.py", line 498, in _on_connection_disconnect
    raise get_redis_ConnectionError()
redis.exceptions.ConnectionError
[2020-12-25 14:04:33,900: ERROR/MainProcess] Error on restarting Control: AttributeError("'NoneType' object has no attribute 'hostname'",)
Traceback (most recent call last):
  File "/usr/local/python3/lib/python3.6/site-packages/redis/connection.py", line 177, in _read_from_socket
    raise socket.error(SERVER_CLOSED_CONNECTION_ERROR)
OSError: Connection closed by server.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/python3/lib/python3.6/site-packages/redis/connection.py", line 624, in read_response
    response = self._parser.read_response()
  File "/usr/local/python3/lib/python3.6/site-packages/redis/connection.py", line 284, in read_response
    response = self._buffer.readline()
  File "/usr/local/python3/lib/python3.6/site-packages/redis/connection.py", line 216, in readline
    self._read_from_socket()
  File "/usr/local/python3/lib/python3.6/site-packages/redis/connection.py", line 191, in _read_from_socket
    (e.args,))
redis.exceptions.ConnectionError: Error while reading from socket: ('Connection closed by server.',)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/python3/lib/python3.6/site-packages/kombu/transport/redis.py", line 655, in _brpop_read
    **options)
  File "/usr/local/python3/lib/python3.6/site-packages/redis/client.py", line 680, in parse_response
    response = connection.read_response()
  File "/usr/local/python3/lib/python3.6/site-packages/redis/connection.py", line 626, in read_response
    self.disconnect()
  File "/usr/local/python3/lib/python3.6/site-packages/kombu/transport/redis.py", line 866, in disconnect
    channel._on_connection_disconnect(self)
  File "/usr/local/python3/lib/python3.6/site-packages/kombu/transport/redis.py", line 496, in _on_connection_disconnect
    self._disconnect_pools()
  File "/usr/local/python3/lib/python3.6/site-packages/kombu/transport/redis.py", line 484, in _disconnect_pools
    self._async_pool.disconnect()
  File "/usr/local/python3/lib/python3.6/site-packages/redis/connection.py", line 998, in disconnect
    connection.disconnect()
  File "/usr/local/python3/lib/python3.6/site-packages/kombu/transport/redis.py", line 866, in disconnect
    channel._on_connection_disconnect(self)
  File "/usr/local/python3/lib/python3.6/site-packages/kombu/transport/redis.py", line 498, in _on_connection_disconnect
    raise get_redis_ConnectionError()
redis.exceptions.ConnectionError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/python3/lib/python3.6/site-packages/celery/worker/consumer.py", line 280, in start
    blueprint.start(self)
  File "/usr/local/python3/lib/python3.6/site-packages/celery/bootsteps.py", line 123, in start
    step.start(parent)
  File "/usr/local/python3/lib/python3.6/site-packages/celery/worker/consumer.py", line 884, in start
    c.loop(*c.loop_args())
  File "/usr/local/python3/lib/python3.6/site-packages/celery/worker/loops.py", line 76, in asynloop
    next(loop)
  File "/usr/local/python3/lib/python3.6/site-packages/kombu/async/hub.py", line 340, in create_loop
    cb(*cbargs)
  File "/usr/local/python3/lib/python3.6/site-packages/kombu/transport/redis.py", line 1012, in on_readable
    item = self.cycle.on_readable(fileno)
  File "/usr/local/python3/lib/python3.6/site-packages/kombu/transport/redis.py", line 331, in on_readable
    return chan.handlers[type]()
  File "/usr/local/python3/lib/python3.6/site-packages/kombu/transport/redis.py", line 659, in _brpop_read
    self.client.connection.disconnect()
  File "/usr/local/python3/lib/python3.6/site-packages/kombu/transport/redis.py", line 866, in disconnect
    channel._on_connection_disconnect(self)
  File "/usr/local/python3/lib/python3.6/site-packages/kombu/transport/redis.py", line 496, in _on_connection_disconnect
    self._disconnect_pools()
  File "/usr/local/python3/lib/python3.6/site-packages/kombu/transport/redis.py", line 484, in _disconnect_pools
    self._async_pool.disconnect()
  File "/usr/local/python3/lib/python3.6/site-packages/redis/connection.py", line 998, in disconnect
    connection.disconnect()
  File "/usr/local/python3/lib/python3.6/site-packages/kombu/transport/redis.py", line 866, in disconnect
    channel._on_connection_disconnect(self)
  File "/usr/local/python3/lib/python3.6/site-packages/kombu/transport/redis.py", line 498, in _on_connection_disconnect
    raise get_redis_ConnectionError()
redis.exceptions.ConnectionError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/python3/lib/python3.6/site-packages/celery/bootsteps.py", line 155, in send_all
    fun(parent, *args)
  File "/usr/local/python3/lib/python3.6/site-packages/celery/worker/pidbox.py", line 55, in stop
    self.consumer = self._close_channel(c)
  File "/usr/local/python3/lib/python3.6/site-packages/celery/worker/pidbox.py", line 64, in _close_channel
    ignore_errors(c, self.node.channel.close)
  File "/usr/local/python3/lib/python3.6/site-packages/kombu/common.py", line 289, in ignore_errors
    return fun(*args, **kwargs)
  File "/usr/local/python3/lib/python3.6/site-packages/kombu/transport/redis.py", line 782, in close
    self.queue_delete(queue)
  File "/usr/local/python3/lib/python3.6/site-packages/kombu/transport/virtual/__init__.py", line 460, in queue_delete
    self._delete(queue, exchange, *meta)
  File "/usr/local/python3/lib/python3.6/site-packages/kombu/transport/redis.py", line 738, in _delete
    with self.conn_or_acquire() as client:
  File "/usr/local/python3/lib/python3.6/contextlib.py", line 81, in __enter__
    return next(self.gen)
  File "/usr/local/python3/lib/python3.6/site-packages/kombu/transport/redis.py", line 903, in conn_or_acquire
    yield self._create_client()
  File "/usr/local/python3/lib/python3.6/site-packages/kombu/transport/redis.py", line 874, in _create_client
    return self.Client(connection_pool=self.pool)
  File "/usr/local/python3/lib/python3.6/site-packages/kombu/transport/redis.py", line 908, in pool
    self._pool = self._get_pool()
  File "/usr/local/python3/lib/python3.6/site-packages/kombu/transport/redis.py", line 877, in _get_pool
    params = self._connparams(async=async)
  File "/usr/local/python3/lib/python3.6/site-packages/kombu/transport/redis.py", line 820, in _connparams
    'host': conninfo.hostname or '127.0.0.1',
AttributeError: 'NoneType' object has no attribute 'hostname'
[2020-12-25 14:04:33,908: ERROR/MainProcess] consumer: Cannot connect to redis://127.0.0.1:16379//: .
Trying again in 2.00 seconds...

/usr/local/python3/lib/python3.6/site-packages/celery/platforms.py:812: RuntimeWarning: You are running the worker with superuser privileges, which is
absolutely not recommended!

Please specify a different user using the -u option.

User information: uid=0 euid=0 gid=0 egid=0

  uid=uid, euid=euid, gid=gid, egid=egid,

/usr/local/python3/lib/python3.6/site-packages/celery/apps/worker.py:161: CDeprecationWarning: 
Starting from version 3.2 Celery will refuse to accept pickle by default.

The pickle serializer is a security concern as it may give attackers
the ability to execute any command.  It's important to secure
your broker from unauthorized access when using pickle, so we think
that enabling pickle should require a deliberate action and not be
the default choice.

If you depend on pickle then you should set a setting to disable this
warning and to be sure that everything will continue working
when you upgrade to Celery 3.2::

    CELERY_ACCEPT_CONTENT = ['pickle', 'json', 'msgpack', 'yaml']

You must only enable the serializers that you will actually use.


  warnings.warn(CDeprecationWarning(W_PICKLE_DEPRECATED))

[2020-12-25 14:04:35,883: WARNING/MainProcess] /usr/local/python3/lib/python3.6/site-packages/celery/apps/worker.py:161: CDeprecationWarning: 
Starting from version 3.2 Celery will refuse to accept pickle by default.

The pickle serializer is a security concern as it may give attackers
the ability to execute any command.  It's important to secure
your broker from unauthorized access when using pickle, so we think
that enabling pickle should require a deliberate action and not be
the default choice.

If you depend on pickle then you should set a setting to disable this
warning and to be sure that everything will continue working
when you upgrade to Celery 3.2::

    CELERY_ACCEPT_CONTENT = ['pickle', 'json', 'msgpack', 'yaml']

You must only enable the serializers that you will actually use.


  warnings.warn(CDeprecationWarning(W_PICKLE_DEPRECATED))

[2020-12-25 14:04:36,033: INFO/MainProcess] Connected to redis://127.0.0.1:16379//
[2020-12-25 14:04:36,040: INFO/MainProcess] mingle: searching for neighbors
[2020-12-25 14:04:37,044: INFO/MainProcess] mingle: all alone
/usr/local/python3/lib/python3.6/site-packages/celery/fixups/django.py:265: UserWarning: Using settings.DEBUG leads to a memory leak, never use this setting in production environments!
  warnings.warn('Using settings.DEBUG leads to a memory leak, never '

[2020-12-25 14:04:37,051: WARNING/MainProcess] /usr/local/python3/lib/python3.6/site-packages/celery/fixups/django.py:265: UserWarning: Using settings.DEBUG leads to a memory leak, never use this setting in production environments!
  warnings.warn('Using settings.DEBUG leads to a memory leak, never '

[2020-12-25 14:04:37,051: WARNING/MainProcess] celery@4 ready.
[2020-12-25 14:06:21,106: INFO/MainProcess] Received task: devops.task.celery_ssh_connect_check[b4fbfca3-e804-4915-bd7d-2cb30e4f47ab]
[2020-12-25 14:06:21,121: INFO/Worker-4] Connected (version 2.0, client OpenSSH_7.4)
[2020-12-25 14:06:21,179: INFO/Worker-4] Authentication (publickey) failed.
[2020-12-25 14:06:21,183: INFO/Worker-4] Authentication (publickey) failed.
[2020-12-25 14:06:21,192: INFO/Worker-4] Connected (version 2.0, client OpenSSH_7.4)
[2020-12-25 14:06:21,248: INFO/Worker-4] Authentication (publickey) failed.
[2020-12-25 14:06:21,270: INFO/Worker-4] Authentication (password) successful!
[2020-12-25 14:06:21,331: INFO/Worker-4] [chan 0] Opened sftp connection (server version 3)
[2020-12-25 14:06:21,331: WARNING/Worker-4] update backup_platform.cmdb_host_information set ssh_conn="1" where source_addr = "192.168.1.31"
[2020-12-25 14:06:21,376: INFO/Worker-4] 修改主机192.168.1.31SSH连接状态为1成功!
[2020-12-25 14:06:21,377: WARNING/Worker-4] None
[2020-12-25 14:06:21,378: WARNING/Worker-4] retval
[2020-12-25 14:06:21,378: WARNING/Worker-4] b4fbfca3-e804-4915-bd7d-2cb30e4f47ab
[2020-12-25 14:06:21,378: WARNING/Worker-4] taskid
[2020-12-25 14:06:21,378: WARNING/Worker-4] []
[2020-12-25 14:06:21,378: WARNING/Worker-4] args
[2020-12-25 14:06:21,378: WARNING/Worker-4] {'cmdb_host_info': {'stat_time': 1608365366, 'id': 45, 'source_addr': '192.168.1.31', 'host_user': 'root', 'host_passwd': '123456', 'host_port': 22, 'ssh_conn': 1, 'createor': 'admin'}}
[2020-12-25 14:06:21,378: WARNING/Worker-4] kwargs
[2020-12-25 14:06:21,378: INFO/MainProcess] Task devops.task.celery_ssh_connect_check[b4fbfca3-e804-4915-bd7d-2cb30e4f47ab] succeeded in 0.27040577307343483s: None
[2020-12-25 14:11:51,862: WARNING/MainProcess] consumer: Connection to broker lost. Trying to re-establish the connection...
Traceback (most recent call last):
  File "/usr/local/python3/lib/python3.6/site-packages/redis/connection.py", line 177, in _read_from_socket
    raise socket.error(SERVER_CLOSED_CONNECTION_ERROR)
OSError: Connection closed by server.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/python3/lib/python3.6/site-packages/redis/connection.py", line 624, in read_response
    response = self._parser.read_response()
  File "/usr/local/python3/lib/python3.6/site-packages/redis/connection.py", line 284, in read_response
    response = self._buffer.readline()
  File "/usr/local/python3/lib/python3.6/site-packages/redis/connection.py", line 216, in readline
    self._read_from_socket()
  File "/usr/local/python3/lib/python3.6/site-packages/redis/connection.py", line 191, in _read_from_socket
    (e.args,))
redis.exceptions.ConnectionError: Error while reading from socket: ('Connection closed by server.',)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/python3/lib/python3.6/site-packages/kombu/transport/redis.py", line 655, in _brpop_read
    **options)
  File "/usr/local/python3/lib/python3.6/site-packages/redis/client.py", line 680, in parse_response
    response = connection.read_response()
  File "/usr/local/python3/lib/python3.6/site-packages/redis/connection.py", line 626, in read_response
    self.disconnect()
  File "/usr/local/python3/lib/python3.6/site-packages/kombu/transport/redis.py", line 866, in disconnect
    channel._on_connection_disconnect(self)
  File "/usr/local/python3/lib/python3.6/site-packages/kombu/transport/redis.py", line 496, in _on_connection_disconnect
    self._disconnect_pools()
  File "/usr/local/python3/lib/python3.6/site-packages/kombu/transport/redis.py", line 484, in _disconnect_pools
    self._async_pool.disconnect()
  File "/usr/local/python3/lib/python3.6/site-packages/redis/connection.py", line 998, in disconnect
    connection.disconnect()
  File "/usr/local/python3/lib/python3.6/site-packages/kombu/transport/redis.py", line 866, in disconnect
    channel._on_connection_disconnect(self)
  File "/usr/local/python3/lib/python3.6/site-packages/kombu/transport/redis.py", line 498, in _on_connection_disconnect
    raise get_redis_ConnectionError()
redis.exceptions.ConnectionError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/python3/lib/python3.6/site-packages/celery/worker/consumer.py", line 280, in start
    blueprint.start(self)
  File "/usr/local/python3/lib/python3.6/site-packages/celery/bootsteps.py", line 123, in start
    step.start(parent)
  File "/usr/local/python3/lib/python3.6/site-packages/celery/worker/consumer.py", line 884, in start
    c.loop(*c.loop_args())
  File "/usr/local/python3/lib/python3.6/site-packages/celery/worker/loops.py", line 76, in asynloop
    next(loop)
  File "/usr/local/python3/lib/python3.6/site-packages/kombu/async/hub.py", line 340, in create_loop
    cb(*cbargs)
  File "/usr/local/python3/lib/python3.6/site-packages/kombu/transport/redis.py", line 1012, in on_readable
    item = self.cycle.on_readable(fileno)
  File "/usr/local/python3/lib/python3.6/site-packages/kombu/transport/redis.py", line 331, in on_readable
    return chan.handlers[type]()
  File "/usr/local/python3/lib/python3.6/site-packages/kombu/transport/redis.py", line 659, in _brpop_read
    self.client.connection.disconnect()
  File "/usr/local/python3/lib/python3.6/site-packages/kombu/transport/redis.py", line 866, in disconnect
    channel._on_connection_disconnect(self)
  File "/usr/local/python3/lib/python3.6/site-packages/kombu/transport/redis.py", line 496, in _on_connection_disconnect
    self._disconnect_pools()
  File "/usr/local/python3/lib/python3.6/site-packages/kombu/transport/redis.py", line 484, in _disconnect_pools
    self._async_pool.disconnect()
  File "/usr/local/python3/lib/python3.6/site-packages/redis/connection.py", line 998, in disconnect
    connection.disconnect()
  File "/usr/local/python3/lib/python3.6/site-packages/kombu/transport/redis.py", line 866, in disconnect
    channel._on_connection_disconnect(self)
  File "/usr/local/python3/lib/python3.6/site-packages/kombu/transport/redis.py", line 498, in _on_connection_disconnect
    raise get_redis_ConnectionError()
redis.exceptions.ConnectionError
[2020-12-25 14:11:51,867: ERROR/MainProcess] Error on restarting Control: AttributeError("'NoneType' object has no attribute 'hostname'",)
Traceback (most recent call last):
  File "/usr/local/python3/lib/python3.6/site-packages/redis/connection.py", line 177, in _read_from_socket
    raise socket.error(SERVER_CLOSED_CONNECTION_ERROR)
OSError: Connection closed by server.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/python3/lib/python3.6/site-packages/redis/connection.py", line 624, in read_response
    response = self._parser.read_response()
  File "/usr/local/python3/lib/python3.6/site-packages/redis/connection.py", line 284, in read_response
    response = self._buffer.readline()
  File "/usr/local/python3/lib/python3.6/site-packages/redis/connection.py", line 216, in readline
    self._read_from_socket()
  File "/usr/local/python3/lib/python3.6/site-packages/redis/connection.py", line 191, in _read_from_socket
    (e.args,))
redis.exceptions.ConnectionError: Error while reading from socket: ('Connection closed by server.',)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/python3/lib/python3.6/site-packages/kombu/transport/redis.py", line 655, in _brpop_read
    **options)
  File "/usr/local/python3/lib/python3.6/site-packages/redis/client.py", line 680, in parse_response
    response = connection.read_response()
  File "/usr/local/python3/lib/python3.6/site-packages/redis/connection.py", line 626, in read_response
    self.disconnect()
  File "/usr/local/python3/lib/python3.6/site-packages/kombu/transport/redis.py", line 866, in disconnect
    channel._on_connection_disconnect(self)
  File "/usr/local/python3/lib/python3.6/site-packages/kombu/transport/redis.py", line 496, in _on_connection_disconnect
    self._disconnect_pools()
  File "/usr/local/python3/lib/python3.6/site-packages/kombu/transport/redis.py", line 484, in _disconnect_pools
    self._async_pool.disconnect()
  File "/usr/local/python3/lib/python3.6/site-packages/redis/connection.py", line 998, in disconnect
    connection.disconnect()
  File "/usr/local/python3/lib/python3.6/site-packages/kombu/transport/redis.py", line 866, in disconnect
    channel._on_connection_disconnect(self)
  File "/usr/local/python3/lib/python3.6/site-packages/kombu/transport/redis.py", line 498, in _on_connection_disconnect
    raise get_redis_ConnectionError()
redis.exceptions.ConnectionError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/python3/lib/python3.6/site-packages/celery/worker/consumer.py", line 280, in start
    blueprint.start(self)
  File "/usr/local/python3/lib/python3.6/site-packages/celery/bootsteps.py", line 123, in start
    step.start(parent)
  File "/usr/local/python3/lib/python3.6/site-packages/celery/worker/consumer.py", line 884, in start
    c.loop(*c.loop_args())
  File "/usr/local/python3/lib/python3.6/site-packages/celery/worker/loops.py", line 76, in asynloop
    next(loop)
  File "/usr/local/python3/lib/python3.6/site-packages/kombu/async/hub.py", line 340, in create_loop
    cb(*cbargs)
  File "/usr/local/python3/lib/python3.6/site-packages/kombu/transport/redis.py", line 1012, in on_readable
    item = self.cycle.on_readable(fileno)
  File "/usr/local/python3/lib/python3.6/site-packages/kombu/transport/redis.py", line 331, in on_readable
    return chan.handlers[type]()
  File "/usr/local/python3/lib/python3.6/site-packages/kombu/transport/redis.py", line 659, in _brpop_read
    self.client.connection.disconnect()
  File "/usr/local/python3/lib/python3.6/site-packages/kombu/transport/redis.py", line 866, in disconnect
    channel._on_connection_disconnect(self)
  File "/usr/local/python3/lib/python3.6/site-packages/kombu/transport/redis.py", line 496, in _on_connection_disconnect
    self._disconnect_pools()
  File "/usr/local/python3/lib/python3.6/site-packages/kombu/transport/redis.py", line 484, in _disconnect_pools
    self._async_pool.disconnect()
  File "/usr/local/python3/lib/python3.6/site-packages/redis/connection.py", line 998, in disconnect
    connection.disconnect()
  File "/usr/local/python3/lib/python3.6/site-packages/kombu/transport/redis.py", line 866, in disconnect
    channel._on_connection_disconnect(self)
  File "/usr/local/python3/lib/python3.6/site-packages/kombu/transport/redis.py", line 498, in _on_connection_disconnect
    raise get_redis_ConnectionError()
redis.exceptions.ConnectionError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/python3/lib/python3.6/site-packages/celery/bootsteps.py", line 155, in send_all
    fun(parent, *args)
  File "/usr/local/python3/lib/python3.6/site-packages/celery/worker/pidbox.py", line 55, in stop
    self.consumer = self._close_channel(c)
  File "/usr/local/python3/lib/python3.6/site-packages/celery/worker/pidbox.py", line 64, in _close_channel
    ignore_errors(c, self.node.channel.close)
  File "/usr/local/python3/lib/python3.6/site-packages/kombu/common.py", line 289, in ignore_errors
    return fun(*args, **kwargs)
  File "/usr/local/python3/lib/python3.6/site-packages/kombu/transport/redis.py", line 782, in close
    self.queue_delete(queue)
  File "/usr/local/python3/lib/python3.6/site-packages/kombu/transport/virtual/__init__.py", line 460, in queue_delete
    self._delete(queue, exchange, *meta)
  File "/usr/local/python3/lib/python3.6/site-packages/kombu/transport/redis.py", line 738, in _delete
    with self.conn_or_acquire() as client:
  File "/usr/local/python3/lib/python3.6/contextlib.py", line 81, in __enter__
    return next(self.gen)
  File "/usr/local/python3/lib/python3.6/site-packages/kombu/transport/redis.py", line 903, in conn_or_acquire
    yield self._create_client()
  File "/usr/local/python3/lib/python3.6/site-packages/kombu/transport/redis.py", line 874, in _create_client
    return self.Client(connection_pool=self.pool)
  File "/usr/local/python3/lib/python3.6/site-packages/kombu/transport/redis.py", line 908, in pool
    self._pool = self._get_pool()
  File "/usr/local/python3/lib/python3.6/site-packages/kombu/transport/redis.py", line 877, in _get_pool
    params = self._connparams(async=async)
  File "/usr/local/python3/lib/python3.6/site-packages/kombu/transport/redis.py", line 820, in _connparams
    'host': conninfo.hostname or '127.0.0.1',
AttributeError: 'NoneType' object has no attribute 'hostname'
[2020-12-25 14:11:51,874: ERROR/MainProcess] consumer: Cannot connect to redis://127.0.0.1:16379//: .
Trying again in 2.00 seconds...

